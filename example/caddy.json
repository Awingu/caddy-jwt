{
  "apps": {
    "http": {
      "servers": {
        "srv0": {
          "listen": [":8080"],
          "automatic_https": { "disable": true },
          "routes": [
            {
              "match": [{ "host": ["localhost"] }],
              "terminal": true,
              "handle": [
                {
                  "handler": "authentication",
                  "providers": {
                    "jwt": {
                      "mode": "internal",
                      "api": {
                        "endpoint": "http://127.0.0.1:2546/v1/auth",
                        "method": "HEAD"
                      },
                      "internal": {
                        "sign_key": "NFL5*0Bc#9U6E@tnmC&E7SUN6GwHfLmY",
                        "from_query": ["access_token"],
                        "from_header": ["X-Api-Token"],
                        "user_claims": ["aud", "uid", "username"]
                      }
                    }
                  }
                },
                {
                  "handler": "static_response",
                  "status_code": 200,
                  "body": "User Authenticated with ID: {http.auth.user.id}"
                }
              ]
            }
          ]
        }
      }
    }
  }
}
